ğŸŒ³ NFC â†’ RFID UID Yol HaritasÄ± (REVÄ°ZE EDÄ°LMÄ°Å - Mevcut Kod BazlÄ±)
0) Mevcut Durum Analizi âœ…

âœ… KÃ¼tÃ¼phane: react-native-nfc-manager (v3.14.8) - KURULU
âœ… Hedef: UID okumak (NDEF + NfcA fallback) - Ã‡ALIÅIYOR
âœ… Ã‡alÄ±ÅŸma ortamÄ±: npx expo run:android - AKTIF
âœ… Ä°zin: android.permission.NFC (app.json) - TANIMLI
âœ… Plugin: react-native-nfc-manager plugin - KONFIGÃœRE
âœ… Cihaz: GerÃ§ek cihaz, NFC aÃ§Ä±k - TEST EDÄ°LDÄ°

MEVCUT KOD Ã‡OK Ä°YÄ° Ã‡ALIÅIYOR! Sadece iyileÅŸtirmeler yapacaÄŸÄ±z.

1) MEVCUT KOD ANALÄ°ZÄ° VE Ä°YÄ°LEÅTÄ°RME PLANI

1.1 Mevcut Kodun GÃ¼Ã§lÃ¼ YanlarÄ± âœ…

âœ… NfcManager.start() gÃ¼venli baÅŸlatma
âœ… Ndef â†’ NfcA fallback stratejisi (Ã‡OK Ä°YÄ°!)
âœ… UID formatlarÄ±: Hex(:), Hex String, Decimal (KAPSAMLI!)
âœ… Error handling: try-catch-finally (DOÄRU!)
âœ… Alert.alert ile kullanÄ±cÄ± bilgilendirme
âœ… cancelTechnologyRequest() cleanup
âœ… setIsNFCReading state management

1.2 Ä°yileÅŸtirme AlanlarÄ± ğŸ”§

ğŸ”§ Timeout parametresi eksik (10 saniye Ã¶nerili)
ğŸ”§ Retry mekanizmasÄ± yok (3 deneme Ã¶nerili)
ğŸ”§ Service layer yok (kod tekrarlanabilir)
ğŸ”§ Hook pattern yok (reusability dÃ¼ÅŸÃ¼k)
ğŸ”§ Error classification basit (daha detaylÄ± olabilir)
ğŸ”§ UI feedback Alert.alert ile sÄ±nÄ±rlÄ± (daha iyi UX olabilir)

1.3 AÅAMALI Ä°YÄ°LEÅTÄ°RME STRATEJÄ°SÄ° ğŸ“‹

AÅAMA 1: Mevcut Kodu Koruyarak KÃ¼Ã§Ã¼k Ä°yileÅŸtirmeler (1-2 saat)
- Timeout parametresi ekle (10 saniye)
- Retry mekanizmasÄ± ekle (3 deneme)
- Error mesajlarÄ±nÄ± iyileÅŸtir
- Console.log'larÄ± temizle

AÅAMA 2: Service Layer Ekleme (2-3 saat)
- NfcService.ts oluÅŸtur
- Mevcut readNFC fonksiyonunu service'e taÅŸÄ±
- Hook pattern ekle (useNfcReader)
- Mevcut UI'Ä± koru, sadece arka planda refactor

AÅAMA 3: UI Ä°yileÅŸtirmeleri (1-2 saat)
- Alert.alert yerine inline UI feedback
- Loading states iyileÅŸtir
- Error cards ekle
- Success feedback iyileÅŸtir

AÅAMA 4: DiÄŸer Sayfalara Uygulama (1 saat)
- Gardens/add.tsx'e NFC ekle
- DiÄŸer formlara NFC ekle
- Reusable component yap

2) KURULUM DURUMU âœ… (ZATEN TAMAM!)

âœ… Paketler: react-native-nfc-manager@3.14.8 - KURULU
âœ… Prebuild & dev build: npx expo run:android - Ã‡ALIÅIYOR
âœ… app.json izinleri: android.permission.NFC - TANIMLI
âœ… Plugin konfigÃ¼rasyonu: react-native-nfc-manager plugin - AKTIF

KURULUM TAMAM! HiÃ§bir ÅŸey yapmaya gerek yok.

3) AÅAMA 1: MEVCUT KOD Ä°YÄ°LEÅTÄ°RMELERÄ° ğŸ”§

3.1 Mevcut UID FormatlayÄ±cÄ±yÄ± Ä°yileÅŸtir
// Mevcut kodunuzda zaten var, sadece iyileÅŸtir:
const hexArray = tag.id.map(byte => byte.toString(16).padStart(2, '0').toUpperCase());
const rfidUID = hexArray.join(':'); // âœ… Bu zaten mÃ¼kemmel!

3.2 Timeout ve Retry Ekle
// Mevcut readNFC fonksiyonunuza ekle:
await NfcManager.requestTechnology(NfcTech.Ndef, {
  alertMessage: 'Etiketi yaklaÅŸtÄ±rÄ±n',
  timeout: 10000, // â† Bu eksikti, ekle!
});

3.3 Retry MekanizmasÄ± Ekle
const MAX_RETRIES = 3;
for (let attempt = 1; attempt <= MAX_RETRIES; attempt++) {
  try {
    // Mevcut okuma kodunuz
    break; // BaÅŸarÄ±lÄ± olursa Ã§Ä±k
  } catch (error) {
    if (attempt === MAX_RETRIES) throw error;
    await new Promise(resolve => setTimeout(resolve, 1000)); // 1sn bekle
  }
}

4) AÅAMA 2: SERVICE LAYER OLUÅTURMA ğŸ“

4.1 NfcService.ts (Mevcut kodunuzu service'e taÅŸÄ±)
// services/nfcService.ts
import NfcManager, {NfcTech} from 'react-native-nfc-manager';

export async function ensureNfcStarted() {
  try { await NfcManager.start(); } catch {}
}

export async function isNfcEnabled(): Promise<boolean> {
  try { return await NfcManager.isEnabled(); }
  catch { return false; }
}

export async function openNfcSettings(): Promise<void> {
  try { await NfcManager.goToNfcSetting(); } catch {}
}

export async function readUidWithRetry(maxRetries: number = 3): Promise<string> {
  await ensureNfcStarted();
  
  const isEnabled = await isNfcEnabled();
  if (!isEnabled) {
    throw new Error('NFC_DISABLED');
  }

  for (let attempt = 1; attempt <= maxRetries; attempt++) {
    try {
      // Mevcut kodunuzun Ndef â†’ NfcA fallback stratejisi
      let tag = null;
      
      try {
        await NfcManager.requestTechnology(NfcTech.Ndef, {
          alertMessage: 'Etiketi yaklaÅŸtÄ±rÄ±n',
          timeout: 10000,
        });
        tag = await NfcManager.getTag();
      } catch (ndefError) {
    try {
      await NfcManager.requestTechnology(NfcTech.NfcA, {
            alertMessage: 'Etiketi yaklaÅŸtÄ±rÄ±n',
            timeout: 10000,
          });
          tag = await NfcManager.getTag();
        } catch (nfcaError) {
          throw new Error('TECH_UNAVAILABLE');
        }
      }
      
      if (tag && tag.id) {
        // Mevcut UID formatlayÄ±cÄ± kodunuz
        if (Array.isArray(tag.id)) {
          const hexArray = tag.id.map(byte => byte.toString(16).padStart(2, '0').toUpperCase());
          return hexArray.join(':');
        } else {
          return tag.id.toString().toUpperCase();
        }
      } else {
        throw new Error('NO_UID');
      }
    } catch (error) {
      if (attempt === maxRetries) throw error;
      await new Promise(resolve => setTimeout(resolve, 1000));
    } finally {
      try { await NfcManager.cancelTechnologyRequest(); } catch {}
    }
  }
  throw new Error('MAX_RETRIES_EXCEEDED');
}

4.2 Hook: useNfcReader (Mevcut UI'Ä± koruyarak)
// hooks/useNfcReader.ts
import {useCallback, useEffect, useRef, useState} from 'react';
import {Alert} from 'react-native';
import {ensureNfcStarted, isNfcEnabled, openNfcSettings, readUidWithRetry} from '../services/nfcService';

type State = 'idle' | 'checking' | 'need-settings' | 'reading' | 'success' | 'error';

export function useNfcReader() {
  const [state, setState] = useState<State>('checking');
  const [uid, setUid] = useState<string>('');
  const [error, setError] = useState<string>('');
  const [retryCount, setRetryCount] = useState<number>(0);
  const readingRef = useRef(false);

  useEffect(() => { ensureNfcStarted(); }, []);

  const check = useCallback(async () => {
    setState('checking');
    const enabled = await isNfcEnabled();
    setState(enabled ? 'idle' : 'need-settings');
  }, []);

  useEffect(() => { check(); }, [check]);

  const goSettings = useCallback(async () => {
    await openNfcSettings();
  }, []);

  const read = useCallback(async () => {
    if (readingRef.current) return;
    setError('');
    setUid('');
    setState('reading');
    setRetryCount(0);
    readingRef.current = true;
    
    try {
      const value = await readUidWithRetry(3);
      setUid(value);
      setState('success');
      
      // Mevcut Alert.alert'i koru
      Alert.alert(
        'RFID Okuma BaÅŸarÄ±lÄ±!',
        `UID: ${value}\n\nUID otomatik olarak forma eklendi.`,
        [{ text: 'Tamam' }]
      );
    } catch (e: any) {
      const msg = String(e?.message || e);
      let uiMsg = 'Okuma baÅŸarÄ±sÄ±z. Tekrar deneyin.';
      
      if (msg.includes('NFC_DISABLED')) { 
        setState('need-settings'); 
        readingRef.current = false; 
        return; 
      }
      if (msg.includes('Tag was lost') || msg.includes('TAG_LOST')) {
        uiMsg = 'Kart uzaklaÅŸtÄ±. KartÄ± telefonun arka antenine sabit tutun.';
      }
      if (msg.includes('Timed out') || msg.includes('TIMEOUT')) {
        uiMsg = 'Zaman aÅŸÄ±mÄ±. KartÄ± 2-3 saniye sabit tutun.';
      }
      if (msg.includes('TECH_UNAVAILABLE')) {
        uiMsg = 'Bu kart tÃ¼rÃ¼ desteklenmiyor. FarklÄ± bir RFID kart deneyin.';
      }
      if (msg.includes('MAX_RETRIES_EXCEEDED')) {
        uiMsg = '3 deneme sonunda okuma baÅŸarÄ±sÄ±z. KartÄ± kontrol edin.';
      }
      
      setError(uiMsg);
      setState('error');
      
      // Mevcut Alert.alert'i koru
      Alert.alert(
        'NFC Okuma HatasÄ±',
        uiMsg,
        [{ text: 'Tamam' }]
      );
    } finally {
      readingRef.current = false;
    }
  }, []);

  return {state, uid, error, retryCount, read, goSettings, check};
}

5) AÅAMA 3: MEVCUT UI'YI Ä°YÄ°LEÅTÄ°RME ğŸ¨

5.1 Mevcut UI'Ä± Koruyarak Ä°yileÅŸtir
// app/farmer/trees/add.tsx - Mevcut kodunuzu koruyarak sadece hook'u deÄŸiÅŸtir:

// ESKI KOD (Mevcut):
const readNFC = async () => {
  // ... 100+ satÄ±r kod
};

// YENÄ° KOD (Hook kullanarak):
import { useNfcReader } from '../../hooks/useNfcReader';

export default function AddTreeScreen() {
  const { state, uid, error, read, goSettings, check } = useNfcReader();
  
  // Mevcut form state'inizi koruyun
  const [form, setForm] = useState<TreeForm>({...});
  
  // UID'yi forma otomatik doldur
  useEffect(() => {
    if (uid) {
      setForm(prev => ({ ...prev, rfidCode: uid }));
    }
  }, [uid]);

  // Mevcut UI'Ä±nÄ±zÄ± koruyun, sadece NFC butonunu deÄŸiÅŸtirin:
  return (
    <View style={styles.container}>
      {/* Mevcut tÃ¼m UI'Ä±nÄ±z aynÄ± kalacak */}
      
      {/* Sadece NFC butonunu deÄŸiÅŸtirin: */}
      <Button
        mode="outlined"
        onPress={read}  // â† Hook'tan gelen read fonksiyonu
        loading={state === 'reading'}
        disabled={state === 'reading'}
        style={styles.nfcButton}
        buttonColor="#2E7D32"
        textColor="#fff"
        icon="nfc"
        labelStyle={{ fontSize: 12 }}
      >
        {state === 'reading' ? 'Okunuyor...' : 'NFC Oku'}
      </Button>
      
      {/* Mevcut TextInput'unuzu koruyun: */}
      <TextInput
        label="RFID Kodu"
        value={form.rfidCode}  // â† Form state'inden al
        onChangeText={(text) => setForm(prev => ({ ...prev, rfidCode: text }))}
        mode="outlined"
        style={[styles.input, styles.rfidInput, { color: '#000' }]}
        outlineColor="#E0E0E0"
        activeOutlineColor="#2E7D32"
        placeholder="RFID etiket kodunu girin veya NFC ile okuyun"
        textColor="#000"
      />
    </View>
  );
}

6) AÅAMA 4: DÄ°ÄER SAYFALARA UYGULAMA ğŸ“±

6.1 Gardens/add.tsx'e NFC Ekle
// app/farmer/gardens/add.tsx
import { useNfcReader } from '../../hooks/useNfcReader';

export default function AddGardenScreen() {
  const { state, uid, error, read } = useNfcReader();
  const [form, setForm] = useState<GardenForm>({...});
  
  // UID'yi forma otomatik doldur
  useEffect(() => {
    if (uid) {
      setForm(prev => ({ ...prev, rfidCode: uid })); // Garden formuna da ekleyin
    }
  }, [uid]);

  // Mevcut UI'Ä±nÄ±za NFC butonu ekleyin
  return (
    <View style={styles.container}>
      {/* Mevcut tÃ¼m UI'Ä±nÄ±z */}
      
      {/* NFC butonu ekleyin */}
      <Button
        mode="outlined"
        onPress={read}
        loading={state === 'reading'}
        disabled={state === 'reading'}
        style={styles.nfcButton}
        buttonColor="#2E7D32"
        textColor="#fff"
        icon="nfc"
      >
        {state === 'reading' ? 'Okunuyor...' : 'NFC ile RFID Oku'}
      </Button>
    </View>
  );
}

6.2 Reusable NFC Component OluÅŸtur
// components/NfcReader.tsx
import React from 'react';
import { Button } from 'react-native-paper';
import { useNfcReader } from '../hooks/useNfcReader';

interface NfcReaderProps {
  onUidRead: (uid: string) => void;
  buttonText?: string;
  style?: any;
}

export function NfcReader({ onUidRead, buttonText = 'NFC Oku', style }: NfcReaderProps) {
  const { state, uid, read } = useNfcReader();
  
  useEffect(() => {
    if (uid) {
      onUidRead(uid);
    }
  }, [uid, onUidRead]);

  return (
    <Button
      mode="outlined"
      onPress={read}
      loading={state === 'reading'}
      disabled={state === 'reading'}
      style={style}
      buttonColor="#2E7D32"
      textColor="#fff"
      icon="nfc"
    >
      {state === 'reading' ? 'Okunuyor...' : buttonText}
    </Button>
  );
}

7) UYGULAMA SIRASI VE ZAMANLAMA â°

7.1 Hemen YapÄ±labilir (BugÃ¼n - 1-2 saat)
âœ… Timeout parametresi ekle (10 saniye)
âœ… Retry mekanizmasÄ± ekle (3 deneme)
âœ… Error mesajlarÄ±nÄ± iyileÅŸtir
âœ… Console.log'larÄ± temizle

7.2 KÄ±sa Vadeli (Bu hafta - 3-4 saat)
âœ… Service layer oluÅŸtur (NfcService.ts)
âœ… Hook pattern ekle (useNfcReader.ts)
âœ… Mevcut UI'Ä± hook ile deÄŸiÅŸtir
âœ… Gardens/add.tsx'e NFC ekle

7.3 Orta Vadeli (Gelecek hafta - 2-3 saat)
âœ… Reusable NfcReader component
âœ… Inline UI feedback (Alert.alert yerine)
âœ… Error cards ve success states
âœ… Haptic feedback ekle

7.4 Uzun Vadeli (Ä°steÄŸe baÄŸlÄ±)
âœ… Auto-read mode
âœ… Technology fallback (NfcB, ISO-DEP)
âœ… UID copy functionality
âœ… Analytics integration

8) RÄ°SK YÃ–NETÄ°MÄ° âš ï¸

8.1 Mevcut Kodu Koruma
- HiÃ§bir zaman mevcut Ã§alÄ±ÅŸan kodu silmeyin
- Her aÅŸamada backup alÄ±n
- AÅŸamalÄ± test edin
- Geri dÃ¶nÃ¼ÅŸ planÄ± hazÄ±rlayÄ±n

8.2 Test Stratejisi
- Her aÅŸamada NFC okuma test edin
- FarklÄ± RFID kartlarla test edin
- Error senaryolarÄ±nÄ± test edin
- Performance'Ä± kontrol edin

9) BAÅARI KRÄ°TERLERÄ° âœ…

9.1 Teknik Kriterler
âœ… NFC okuma %95+ baÅŸarÄ± oranÄ±
âœ… 3 saniye altÄ±nda okuma sÃ¼resi
âœ… Memory leak yok
âœ… Crash yok

9.2 KullanÄ±cÄ± Deneyimi
âœ… AnlaÅŸÄ±lÄ±r error mesajlarÄ±
âœ… Kolay NFC ayar aÃ§ma
âœ… HÄ±zlÄ± ve gÃ¼venilir okuma
âœ… TutarlÄ± UI/UX

10) SONUÃ‡ VE Ã–NERÄ°LER ğŸ¯

MEVCUT KODUNUZ Ã‡OK Ä°YÄ°! Sadece iyileÅŸtirmeler yapacaÄŸÄ±z:

âœ… AÅŸamalÄ± yaklaÅŸÄ±m - risk yok
âœ… Mevcut UI korunacak - kullanÄ±cÄ± alÄ±ÅŸkanlÄ±ÄŸÄ± bozulmayacak
âœ… Service layer - kod tekrarÄ± azalacak
âœ… Hook pattern - reusability artacak
âœ… Error handling - daha gÃ¼venilir olacak

Bu planÄ± takip ederseniz:
- Mevcut Ã§alÄ±ÅŸan kodunuz korunur
- AÅŸamalÄ± iyileÅŸtirmeler yapÄ±lÄ±r
- Risk minimuma indirilir
- KullanÄ±cÄ± deneyimi geliÅŸir
- Kod kalitesi artar

HAZIR MISINIZ? ğŸš€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š PROJE ANALÄ°ZÄ° VE DETAYLI DOSYA DEÄÄ°ÅÄ°KLÄ°K PLANI
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ” MEVCUT DURUM ANALÄ°ZÄ°:

âœ… NFC Ä°MPLEMENTASYONU OLAN DOSYALAR:
1. app/farmer/trees/add.tsx - âœ… TAM NFC VAR
   - rfidCode field'i var
   - readNFC fonksiyonu var (120+ satÄ±r)
   - Ndef â†’ NfcA fallback stratejisi var
   - UID formatlayÄ±cÄ± var

âŒ NFC Ä°MPLEMENTASYONU OLMAYAN DOSYALAR:
2. app/farmer/gardens/add.tsx - âŒ NFC YOK
   - GardenForm interface'inde rfidCode field'i yok
   - Sadece rfid_takip feature olarak var

ğŸ” NFC REFERANSI OLAN DOSYALAR:
3. app/tree/[id]/blockchain.tsx - ğŸ” NFC icon var ama okuma yok
4. app/farmer/index.tsx - ğŸ” RFID referanslarÄ± var ama okuma yok

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ DETAYLI DOSYA DEÄÄ°ÅÄ°KLÄ°K PLANI
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

AÅAMA 1: MEVCUT KOD Ä°YÄ°LEÅTÄ°RMELERÄ° (1-2 saat)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“„ app/farmer/trees/add.tsx
â”œâ”€â”€ âœ… Mevcut: readNFC fonksiyonu (122-257. satÄ±rlar)
â”œâ”€â”€ ğŸ”§ Eklenecek: timeout: 10000 parametresi (177. ve 183. satÄ±rlara)
â”œâ”€â”€ ğŸ”§ Eklenecek: retry mekanizmasÄ± (MAX_RETRIES = 3)
â”œâ”€â”€ ğŸ”§ Ä°yileÅŸtirilecek: error mesajlarÄ± (daha detaylÄ±)
â””â”€â”€ ğŸ”§ Temizlenecek: console.log'lar (204-208. satÄ±rlar)

AÅAMA 2: SERVICE LAYER OLUÅTURMA (2-3 saat)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“ YENÄ° DOSYALAR:
â”œâ”€â”€ ğŸ“„ services/nfcService.ts (YENÄ°)
â”‚   â”œâ”€â”€ ensureNfcStarted()
â”‚   â”œâ”€â”€ isNfcEnabled()
â”‚   â”œâ”€â”€ openNfcSettings()
â”‚   â””â”€â”€ readUidWithRetry() - mevcut readNFC kodunu taÅŸÄ±
â”‚
â”œâ”€â”€ ğŸ“„ hooks/useNfcReader.ts (YENÄ°)
â”‚   â”œâ”€â”€ State management (idle, reading, success, error)
â”‚   â”œâ”€â”€ read() fonksiyonu
â”‚   â”œâ”€â”€ goSettings() fonksiyonu
â”‚   â””â”€â”€ Mevcut Alert.alert'leri koru
â”‚
â””â”€â”€ ğŸ“„ components/NfcReader.tsx (YENÄ°)
    â”œâ”€â”€ Reusable NFC button component
    â”œâ”€â”€ onUidRead callback
    â””â”€â”€ Customizable button text

ğŸ“„ DEÄÄ°ÅTÄ°RÄ°LECEK DOSYALAR:
â”œâ”€â”€ ğŸ“„ app/farmer/trees/add.tsx
â”‚   â”œâ”€â”€ âŒ Silinecek: readNFC fonksiyonu (122-257. satÄ±rlar)
â”‚   â”œâ”€â”€ âŒ Silinecek: setIsNFCReading state
â”‚   â”œâ”€â”€ âœ… Eklenecek: import { useNfcReader } from '../../hooks/useNfcReader'
â”‚   â”œâ”€â”€ âœ… Eklenecek: const { state, uid, error, read } = useNfcReader()
â”‚   â”œâ”€â”€ âœ… Eklenecek: useEffect ile uid'yi forma doldur
â”‚   â””â”€â”€ âœ… DeÄŸiÅŸtirilecek: NFC butonu hook'tan gelen read fonksiyonunu kullanacak

AÅAMA 3: GARDENS SAYFASINA NFC EKLEME (1-2 saat)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“„ app/farmer/gardens/add.tsx
â”œâ”€â”€ ğŸ”§ Eklenecek: rfidCode field'i GardenForm interface'ine (30. satÄ±rdan sonra)
â”œâ”€â”€ ğŸ”§ Eklenecek: rfidCode: '' initial state'e (103. satÄ±rdan sonra)
â”œâ”€â”€ ğŸ”§ Eklenecek: import { useNfcReader } from '../../hooks/useNfcReader'
â”œâ”€â”€ ğŸ”§ Eklenecek: const { state, uid, error, read } = useNfcReader()
â”œâ”€â”€ ğŸ”§ Eklenecek: useEffect ile uid'yi forma doldur
â”œâ”€â”€ ğŸ”§ Eklenecek: RFID Kodu TextInput (320. satÄ±rdan sonra)
â”œâ”€â”€ ğŸ”§ Eklenecek: NFC Oku butonu (320. satÄ±rdan sonra)
â””â”€â”€ ğŸ”§ Eklenecek: rfidCode validation (167. satÄ±rdan sonra)

AÅAMA 4: DÄ°ÄER SAYFALARA NFC EKLEME (1 saat)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“„ app/farmer/trees/[id]/edit.tsx
â”œâ”€â”€ ğŸ”§ Kontrol edilecek: rfidCode field'i var mÄ±?
â”œâ”€â”€ ğŸ”§ Eklenecek: NFC okuma fonksiyonalitesi
â””â”€â”€ ğŸ”§ Eklenecek: NfcReader component

ğŸ“„ app/farmer/gardens/[id].tsx
â”œâ”€â”€ ğŸ”§ Kontrol edilecek: rfidCode field'i var mÄ±?
â”œâ”€â”€ ğŸ”§ Eklenecek: NFC okuma fonksiyonalitesi
â””â”€â”€ ğŸ”§ Eklenecek: NfcReader component

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¯ UYGULAMA SIRASI VE ZAMANLAMA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

GÃœN 1 (2-3 saat):
â”œâ”€â”€ âœ… AÅAMA 1: Mevcut trees/add.tsx'i iyileÅŸtir
â”œâ”€â”€ âœ… Timeout ve retry ekle
â”œâ”€â”€ âœ… Error mesajlarÄ±nÄ± iyileÅŸtir
â””â”€â”€ âœ… Test et

GÃœN 2 (3-4 saat):
â”œâ”€â”€ âœ… AÅAMA 2: Service layer oluÅŸtur
â”œâ”€â”€ âœ… NfcService.ts oluÅŸtur
â”œâ”€â”€ âœ… useNfcReader.ts oluÅŸtur
â”œâ”€â”€ âœ… trees/add.tsx'i refactor et
â””â”€â”€ âœ… Test et

GÃœN 3 (2-3 saat):
â”œâ”€â”€ âœ… AÅAMA 3: Gardens/add.tsx'e NFC ekle
â”œâ”€â”€ âœ… GardenForm interface'ini gÃ¼ncelle
â”œâ”€â”€ âœ… NFC UI ekle
â””â”€â”€ âœ… Test et

GÃœN 4 (1-2 saat):
â”œâ”€â”€ âœ… AÅAMA 4: DiÄŸer sayfalara NFC ekle
â”œâ”€â”€ âœ… NfcReader component oluÅŸtur
â””â”€â”€ âœ… Final test

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âš ï¸ RÄ°SK YÃ–NETÄ°MÄ° VE BACKUP STRATEJÄ°SÄ°
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”’ BACKUP PLANI:
â”œâ”€â”€ ğŸ“ Her aÅŸamadan Ã¶nce git commit yap
â”œâ”€â”€ ğŸ“ Mevcut Ã§alÄ±ÅŸan kodu silme, sadece ekleme/deÄŸiÅŸtirme
â”œâ”€â”€ ğŸ“ Her dosya deÄŸiÅŸikliÄŸinden sonra test et
â””â”€â”€ ğŸ“ Geri dÃ¶nÃ¼ÅŸ planÄ± hazÄ±rla

ğŸ§ª TEST STRATEJÄ°SÄ°:
â”œâ”€â”€ ğŸ“± Her aÅŸamada NFC okuma test et
â”œâ”€â”€ ğŸ“± FarklÄ± RFID kartlarla test et
â”œâ”€â”€ ğŸ“± Error senaryolarÄ±nÄ± test et
â””â”€â”€ ğŸ“± Performance'Ä± kontrol et

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš€ HAZIR MISINIZ? HANGÄ° AÅAMADAN BAÅLAYALIM?
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•