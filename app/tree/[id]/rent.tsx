import React, { useState } from 'react';
import { View, StyleSheet, ScrollView, Alert, Modal } from 'react-native';
import {
  Text,
  Button,
  Card,
  RadioButton,
  Divider,
  TextInput,
  List,
  Checkbox,
  SegmentedButtons,
  Portal,
  Surface,
  IconButton,
  Chip,
} from 'react-native-paper';
import { router, useLocalSearchParams } from 'expo-router';
import { MaterialCommunityIcons } from '@expo/vector-icons';

// √ñrnek aƒüa√ß verisi (ger√ßek uygulamada API'den gelecek)
const TREE_DATA = {
  id: '1',
  name: 'Zeytin Aƒüacƒ± #123',
  location: 'ƒ∞zmir, Seferihisar',
  basePrice: 2500,
  nextHarvest: '01.11.2024',
  estimatedYield: '90kg',
};

// √úr√ºn i≈üleme se√ßenekleri
const PROCESSING_OPTIONS = [
  {
    id: 'oil',
    label: 'Zeytinyaƒüƒ±',
    description: 'Zeytinler yaƒüa i≈ülenecek',
    price: 200,
  },
  {
    id: 'table',
    label: 'Sofralƒ±k',
    description: 'Zeytinler sofralƒ±k olarak i≈ülenecek',
    price: 150,
  },
  {
    id: 'mixed',
    label: 'Karƒ±≈üƒ±k',
    description: 'Yarƒ±sƒ± yaƒülƒ±k, yarƒ±sƒ± sofralƒ±k olarak i≈ülenecek',
    price: 175,
  },
];

// Kiralama s√ºreleri
const RENTAL_PERIODS = [
  { value: '1', label: '1 Yƒ±l', multiplier: 1 },
  { value: '2', label: '2 Yƒ±l', multiplier: 1.8 },
  { value: '3', label: '3 Yƒ±l', multiplier: 2.5 },
];

// √ñdeme y√∂ntemleri
const PAYMENT_METHODS = [
  {
    id: '1',
    type: 'card',
    name: 'Ziraat Bankasƒ±',
    last4: '4242',
    icon: 'credit-card' as const,
  },
  {
    id: '2',
    type: 'card',
    name: 'ƒ∞≈ü Bankasƒ±',
    last4: '8765',
    icon: 'credit-card' as const,
  },
];

export default function RentScreen() {
  const { id } = useLocalSearchParams();
  const [rentalPeriod, setRentalPeriod] = useState('');
  const [processingOption, setProcessingOption] = useState('');
  const [organicPreference, setOrganicPreference] = useState(false);
  const [isTermsAccepted, setIsTermsAccepted] = useState(false);
  const [showConfirmModal, setShowConfirmModal] = useState(false);
  const [showContractModal, setShowContractModal] = useState(false);

  // Se√ßilen i≈üleme opsiyonunun fiyatƒ±nƒ± bul
  const selectedProcessing = PROCESSING_OPTIONS.find(
    (opt) => opt.id === processingOption
  );

  // Se√ßilen s√ºreye g√∂re fiyat hesaplama
  const calculatePrice = () => {
    if (!rentalPeriod) return 0;
    
    const period = RENTAL_PERIODS.find(p => p.value === rentalPeriod);
    const basePrice = TREE_DATA.basePrice;
    const processingPrice = selectedProcessing?.price || 0;
    const organicExtra = organicPreference ? 300 : 0;
    return Math.round((basePrice + processingPrice + organicExtra) * (period?.multiplier || 1));
  };

  const handleRentConfirm = () => {
    console.log('üîÑ √ñdeme sayfasƒ±na y√∂nlendirme ba≈ülatƒ±ldƒ±...');
    
    if (!rentalPeriod) {
      Alert.alert('Uyarƒ±', 'L√ºtfen kiralama s√ºresini se√ßin.');
      return;
    }
    if (!processingOption) {
      Alert.alert('Uyarƒ±', 'L√ºtfen √ºr√ºn i≈üleme tercihini se√ßin.');
      return;
    }
    if (!isTermsAccepted) {
      Alert.alert('Uyarƒ±', 'Devam etmek i√ßin s√∂zle≈üme ≈üartlarƒ±nƒ± kabul etmelisiniz.');
      return;
    }

    const paymentParams = {
      treeId: id,
      amount: calculatePrice(),
      rentalData: JSON.stringify({
        period: rentalPeriod,
        processing: processingOption,
        organic: organicPreference,
        treeName: TREE_DATA.name,
        treeLocation: TREE_DATA.location
      })
    };

    console.log('üí≥ √ñdeme parametreleri:', paymentParams);

    try {
      // √ñdeme sayfasƒ±na y√∂nlendir - Alternatif y√∂ntemler dene
      
      // Y√∂ntem 1: Basit string path
      // router.push('/payment');
      
      // √ñdeme sayfasƒ±na y√∂nlendir
      router.push({
        pathname: '/payment',
        params: paymentParams
      });
      
      // Y√∂ntem 3: Query string formatƒ±nda (yedek)
      // const queryString = Object.entries(paymentParams)
      //   .map(([key, value]) => `${key}=${encodeURIComponent(value)}`)
      //   .join('&');
      // router.push(`/payment?${queryString}`);
      
      console.log('‚úÖ Y√∂nlendirme komutu g√∂nderildi');
      
      // 2 saniye sonra kontrol et
      setTimeout(() => {
        console.log('üîç 2 saniye sonra y√∂nlendirme durumu kontrol ediliyor...');
      }, 2000);
      
    } catch (error) {
      console.error('‚ùå Y√∂nlendirme hatasƒ±:', error);
      Alert.alert('Hata', '√ñdeme sayfasƒ±na y√∂nlendirilemedi. Konsol loglarƒ±nƒ± kontrol edin.');
    }
  };

  return (
    <View style={styles.container}>
      <View style={styles.headerRow}>
        <IconButton icon="arrow-left" size={28} iconColor="#2D6A4F" onPress={() => router.back()} />
        <Text style={styles.headerTitle}>Aƒüa√ß Kiralama</Text>
      </View>
      <ScrollView style={styles.scrollView}>
        {/* Ba≈ülƒ±k */}
        <View style={styles.header}>
          <Text style={styles.title}>Aƒüa√ß Kiralama</Text>
          <Text style={styles.subtitle}>{TREE_DATA.name}</Text>
          <Text style={styles.location}>{TREE_DATA.location}</Text>
        </View>

        {/* Aƒüa√ß √ñzeti */}
        <Surface style={styles.section} elevation={2}>
          <Text style={styles.sectionTitle}>Aƒüa√ß Bilgileri</Text>
          <View style={styles.treeInfo}>
            <MaterialCommunityIcons name="tree" size={36} color="#2E7D32" />
            <View style={styles.treeDetails}>
              <Text style={styles.treeName}>{TREE_DATA.name}</Text>
              <Text style={styles.treeLocation}>{TREE_DATA.location}</Text>
            </View>
          </View>
          <Divider style={styles.divider} />
          <View style={styles.harvestInfo}>
            <View style={styles.harvestDetail}>
              <Text style={styles.harvestLabel}>Sonraki Hasat</Text>
              <Text style={styles.harvestValue}>{TREE_DATA.nextHarvest}</Text>
            </View>
            <View style={styles.harvestDetail}>
              <Text style={styles.harvestLabel}>Tahmini Verim</Text>
              <Text style={styles.harvestValue}>{TREE_DATA.estimatedYield}</Text>
            </View>
          </View>
        </Surface>

        {/* Kiralama S√ºresi */}
        <Surface style={styles.section} elevation={2}>
          <Text style={styles.sectionTitle}>Kiralama S√ºresi</Text>
          <RadioButton.Group
            onValueChange={value => setRentalPeriod(value)}
            value={rentalPeriod}
          >
            {RENTAL_PERIODS.map(period => (
              <View key={period.value} style={styles.periodOption}>
                <View style={styles.periodInfo}>
                  <RadioButton.Android value={period.value} color="#2E7D32" />
                  <Text style={styles.periodLabel}>{period.label}</Text>
                </View>
                <Text style={styles.periodPrice}>
                  {Math.round(TREE_DATA.basePrice * period.multiplier)} ‚Ç∫
                </Text>
              </View>
            ))}
          </RadioButton.Group>
        </Surface>

        {/* ƒ∞≈üleme Tercihleri */}
        <Card style={styles.section}>
          <Card.Content>
            <Text style={styles.sectionTitle}>√úr√ºn ƒ∞≈üleme Tercihleri</Text>
            <RadioButton.Group
              onValueChange={value => setProcessingOption(value)}
              value={processingOption}
            >
              {PROCESSING_OPTIONS.map((option) => (
                <View key={option.id} style={styles.radioOption}>
                  <RadioButton.Item
                    label={option.label}
                    value={option.id}
                    position="leading"
                    color='green'
                    labelStyle={{ color: '#000', fontWeight: 'bold' }}
                  />
                  <Text style={styles.optionDescription}>
                    {option.description}
                  </Text>
                  <Text style={styles.optionPrice}>+{option.price}‚Ç∫</Text>
                </View>
              ))}
            </RadioButton.Group>

            <Divider style={styles.divider} />

            <View style={styles.organicContainer}>
              <View style={styles.organicLeftSection}>
                <Checkbox.Android
                  status={organicPreference ? 'checked' : 'unchecked'}
                  onPress={() => setOrganicPreference(!organicPreference)}
                />
                <View style={styles.organicTextSection}>
                  <Text style={styles.organicTitle}>Organik Tarƒ±m</Text>
                  <Text style={styles.organicDescription}>Tamamen organik y√∂ntemlerle √ºretim</Text>
                  <Text style={styles.optionPrice}>+300‚Ç∫</Text>
                </View>
              </View>
            </View>
          </Card.Content>
        </Card>

        {/* S√∂zle≈üme */}
        <Surface style={styles.section} elevation={2}>
          <Text style={styles.sectionTitle}>Kiralama S√∂zle≈ümesi</Text>
          <View style={styles.contractButtonContainer}>
            <Button
              mode="outlined"
              icon="file-document-outline"
              onPress={() => setShowContractModal(true)}
              style={styles.contractViewButton}
              labelStyle={styles.contractButtonLabel}
            >
              S√∂zle≈ümeyi ƒ∞ncele
            </Button>
          </View>
          <View style={styles.termsContainer}>
            <Checkbox.Android
              status={isTermsAccepted ? 'checked' : 'unchecked'}
              onPress={() => setIsTermsAccepted(!isTermsAccepted)}
              color="#2D6A4F"
            />
            <View style={styles.termsTextContainer}>
              <Text style={styles.termsText}>
                S√∂zle≈üme ≈üartlarƒ±nƒ± okudum ve kabul ediyorum
              </Text>
            </View>
          </View>
        </Surface>

        {/* Alt bo≈üluk - sabit kƒ±sƒ±m i√ßin */}
        <View style={styles.bottomSpacer} />
      </ScrollView>

      {/* S√∂zle≈üme Modal */}
      <Modal
        visible={showContractModal}
        animationType="slide"
        transparent={true}
        onRequestClose={() => setShowContractModal(false)}
      >
        <View style={styles.modalOverlay}>
          <View style={styles.modalContainer}>
            <View style={styles.modalHeader}>
              <Text style={styles.modalTitle}>Kiralama S√∂zle≈ümesi</Text>
              <IconButton
                icon="close"
                size={24}
                onPress={() => setShowContractModal(false)}
                iconColor="#666"
                style={styles.modalCloseButton}
              />
            </View>
            <View style={styles.modalDivider} />
            <ScrollView style={styles.modalContent} showsVerticalScrollIndicator={false}>
              <View style={styles.modalContractSection}>
                <Text style={styles.modalSectionTitle}>AƒûA√á Kƒ∞RALAMA S√ñZLE≈ûMESƒ∞</Text>
                <Text style={styles.modalContractText}>
                  Bu s√∂zle≈üme, Dijital Bah√ßem platformu √ºzerinden ger√ßekle≈ütirilen aƒüa√ß kiralama hizmetinin 
                  ≈üartlarƒ±nƒ± ve ko≈üullarƒ±nƒ± belirlemektedir. S√∂zle≈üme taraflarƒ±, a≈üaƒüƒ±da belirtilen ≈üartlarƒ± 
                  kabul ederek bu anla≈ümayƒ± imzalamaktadƒ±r.
                </Text>
              </View>

              <View style={styles.modalContractSection}>
                <Text style={styles.modalSectionTitle}>1. TARAFLAR VE KONU</Text>
                <Text style={styles.modalContractText}>
                  <Text style={styles.modalBoldText}>Kƒ∞RAYE VEREN:</Text> Dijital Bah√ßem Platformu ve 
                  baƒülƒ± √ßift√ßiler{'\n'}
                  <Text style={styles.modalBoldText}>Kƒ∞RALAYAN:</Text> Platform √ºzerinden kiralama i≈ülemi 
                  ger√ßekle≈ütiren kullanƒ±cƒ±{'\n'}
                  <Text style={styles.modalBoldText}>KONU:</Text> Belirtilen aƒüacƒ±n belirli s√ºre i√ßin 
                  kiralanmasƒ± ve bakƒ±m hizmetlerinin saƒülanmasƒ±
                </Text>
              </View>

              <View style={styles.modalContractSection}>
                <Text style={styles.modalSectionTitle}>2. Kƒ∞RALAMA HAKKI VE KAPSAMI</Text>
                <Text style={styles.modalContractText}>
                  ‚Ä¢ Kiralayan, se√ßilen aƒüacƒ±n kiralama hakkƒ±nƒ± satƒ±n alƒ±r.{'\n'}
                  ‚Ä¢ Kiralama s√ºresi boyunca aƒüacƒ±n t√ºm bakƒ±m i≈ülemleri Kiraye Veren tarafƒ±ndan 
                  ger√ßekle≈ütirilir.{'\n'}
                  ‚Ä¢ Aƒüacƒ±n √ºr√ºn verimi ve kalitesi Kiraye Veren'in sorumluluƒüundadƒ±r.{'\n'}
                  ‚Ä¢ Kiralayan, aƒüacƒ±n fiziksel m√ºlkiyetini deƒüil, kullanƒ±m hakkƒ±nƒ± satƒ±n alƒ±r.
                </Text>
              </View>

              <View style={styles.modalContractSection}>
                <Text style={styles.modalSectionTitle}>3. BAKIM VE Y√ñNETƒ∞M Hƒ∞ZMETLERƒ∞</Text>
                <Text style={styles.modalContractText}>
                  Kiraye Veren a≈üaƒüƒ±daki hizmetleri saƒülamayƒ± taahh√ºt eder:{'\n\n'}
                  ‚Ä¢ <Text style={styles.modalBoldText}>Sulama:</Text> Aƒüacƒ±n ihtiyacƒ±na g√∂re d√ºzenli sulama{'\n'}
                  ‚Ä¢ <Text style={styles.modalBoldText}>G√ºbreleme:</Text> Organik g√ºbreleme ve beslenme{'\n'}
                  ‚Ä¢ <Text style={styles.modalBoldText}>Hastalƒ±k Kontrol√º:</Text> D√ºzenli saƒülƒ±k kontrol√º ve 
                  koruyucu √∂nlemler{'\n'}
                  ‚Ä¢ <Text style={styles.modalBoldText}>Budama:</Text> Gerekli budama i≈ülemleri{'\n'}
                  ‚Ä¢ <Text style={styles.modalBoldText}>Hasat:</Text> Uygun zamanda hasat ve √ºr√ºn teslimi
                </Text>
              </View>

              <View style={styles.modalContractSection}>
                <Text style={styles.modalSectionTitle}>4. √ñDEME KO≈ûULLARI</Text>
                <Text style={styles.modalContractText}>
                  ‚Ä¢ Kiralama bedeli pe≈üin olarak √∂denir.{'\n'}
                  ‚Ä¢ √ñdeme, platform √ºzerinden g√ºvenli √∂deme sistemleri ile ger√ßekle≈ütirilir.{'\n'}
                  ‚Ä¢ Kiralama bedeli, se√ßilen s√ºre ve hizmet paketine g√∂re belirlenir.{'\n'}
                  ‚Ä¢ Organik tarƒ±m tercihi ek √ºcret gerektirir.{'\n'}
                  ‚Ä¢ √ñdeme tamamlandƒ±ktan sonra kiralama hakkƒ± aktif hale gelir.
                </Text>
              </View>

              <View style={styles.modalContractSection}>
                <Text style={styles.modalSectionTitle}>5. √úR√úN TESLƒ∞Mƒ∞ VE KALƒ∞TE</Text>
                <Text style={styles.modalContractText}>
                  ‚Ä¢ Hasat zamanƒ± geldiƒüinde Kiralayan'a √∂nceden bilgi verilir.{'\n'}
                  ‚Ä¢ √úr√ºn, belirtilen adrese √ºcretsiz teslim edilir.{'\n'}
                  ‚Ä¢ Organik tarƒ±m se√ßeneƒüi i√ßin organik sertifika saƒülanƒ±r.{'\n'}
                  ‚Ä¢ √úr√ºn kalitesi, sekt√∂r standartlarƒ±na uygun olarak garanti edilir.{'\n'}
                  ‚Ä¢ Teslimat sƒ±rasƒ±nda √ºr√ºn kalitesi kontrol√º yapƒ±lƒ±r.
                </Text>
              </View>

              <View style={styles.modalContractSection}>
                <Text style={styles.modalSectionTitle}>6. SORUMLULUK VE GARANTƒ∞</Text>
                <Text style={styles.modalContractText}>
                  ‚Ä¢ Aƒüacƒ±n bakƒ±mƒ± ve y√∂netimi tamamen Kiraye Veren'in sorumluluƒüundadƒ±r.{'\n'}
                  ‚Ä¢ Doƒüal afetler, hastalƒ±k veya beklenmeyen durumlar nedeniyle √ºr√ºn kaybƒ± 
                  ya≈üanmasƒ± durumunda kiralama bedeli iade edilmez.{'\n'}
                  ‚Ä¢ Kiraye Veren, maksimum √ßaba g√∂stererek √ºr√ºn kalitesini korumayƒ± taahh√ºt eder.{'\n'}
                  ‚Ä¢ Kiralayan'ƒ±n aƒüaca m√ºdahale etmesi yasaktƒ±r.
                </Text>
              </View>

              <View style={styles.modalContractSection}>
                <Text style={styles.modalSectionTitle}>7. ƒ∞LETƒ∞≈ûƒ∞M VE TAKƒ∞P</Text>
                <Text style={styles.modalContractText}>
                  ‚Ä¢ Kiralama s√ºresi boyunca d√ºzenli fotoƒüraf g√ºncellemeleri saƒülanƒ±r.{'\n'}
                  ‚Ä¢ Aƒüacƒ±n geli≈üim durumu hakkƒ±nda bilgilendirme yapƒ±lƒ±r.{'\n'}
                  ‚Ä¢ 7/24 m√º≈üteri hizmetleri desteƒüi sunulur.{'\n'}
                  ‚Ä¢ Sorular ve talepler i√ßin platform √ºzerinden ileti≈üim kurulabilir.
                </Text>
              </View>

              <View style={styles.modalContractSection}>
                <Text style={styles.modalSectionTitle}>8. S√ñZLE≈ûME S√úRESƒ∞ VE FESƒ∞H</Text>
                <Text style={styles.modalContractText}>
                  ‚Ä¢ S√∂zle≈üme s√ºresi, se√ßilen kiralama periyoduna g√∂re belirlenir.{'\n'}
                  ‚Ä¢ S√ºre sonunda s√∂zle≈üme otomatik olarak sona erer.{'\n'}
                  ‚Ä¢ Yenileme se√ßeneƒüi mevcuttur.{'\n'}
                  ‚Ä¢ Taraflar kar≈üƒ±lƒ±klƒ± anla≈üma ile s√∂zle≈ümeyi feshedebilir.{'\n'}
                  ‚Ä¢ Fesih durumunda kiralama bedeli iade edilmez.
                </Text>
              </View>

              <View style={styles.modalContractSection}>
                <Text style={styles.modalSectionTitle}>9. Gƒ∞ZLƒ∞Lƒ∞K VE VERƒ∞ G√úVENLƒ∞ƒûƒ∞</Text>
                <Text style={styles.modalContractText}>
                  ‚Ä¢ Ki≈üisel veriler KVKK kapsamƒ±nda korunur.{'\n'}
                  ‚Ä¢ Platform g√ºvenlik standartlarƒ±na uygun olarak tasarlanmƒ±≈ütƒ±r.{'\n'}
                  ‚Ä¢ √ñdeme bilgileri ≈üifrelenerek saklanƒ±r.{'\n'}
                  ‚Ä¢ Veri payla≈üƒ±mƒ± sadece hizmet kalitesi i√ßin gerekli olduƒüunda yapƒ±lƒ±r.
                </Text>
              </View>

              <View style={styles.modalContractSection}>
                <Text style={styles.modalSectionTitle}>10. UYU≈ûMAZLIK √á√ñZ√úM√ú</Text>
                <Text style={styles.modalContractText}>
                  ‚Ä¢ Bu s√∂zle≈ümeden doƒüacak uyu≈ümazlƒ±klar √∂ncelikle g√∂r√º≈üme yoluyla √ß√∂z√ºlmeye √ßalƒ±≈üƒ±lƒ±r.{'\n'}
                  ‚Ä¢ √á√∂z√ºlemeyen uyu≈ümazlƒ±klar i√ßin T√ºrkiye Cumhuriyeti mahkemeleri yetkilidir.{'\n'}
                  ‚Ä¢ S√∂zle≈üme T√ºrk√ße dilinde hazƒ±rlanmƒ±≈ütƒ±r ve T√ºrk hukukuna tabidir.
                </Text>
              </View>

              <View style={styles.modalContractSection}>
                <Text style={styles.modalContractText}>
                  <Text style={styles.modalBoldText}>Bu s√∂zle≈ümeyi okuyarak ve kabul ederek, 
                  yukarƒ±da belirtilen t√ºm ≈üartlarƒ± ve ko≈üullarƒ± kabul etmi≈ü sayƒ±lƒ±rsƒ±nƒ±z.</Text>
                </Text>
              </View>
            </ScrollView>
            <View style={styles.modalFooter}>
              <Button
                mode="contained"
                icon="check-circle"
                onPress={() => {
                  setIsTermsAccepted(true);
                  setShowContractModal(false);
                }}
                style={styles.modalAcceptButton}
                contentStyle={styles.modalAcceptButtonContent}
                labelStyle={styles.modalAcceptButtonLabel}
              >
                S√∂zle≈ümeyi Kabul Ediyorum
              </Button>
            </View>
          </View>
        </View>
      </Modal>

      {/* Sabit Alt Kƒ±sƒ±m */}
      <View style={styles.fixedBottom}>
        <View style={styles.totalContainer}>
          <Text style={styles.totalLabel}>Toplam Tutar</Text>
          <Text style={styles.totalPrice}>
            {rentalPeriod ? `${calculatePrice()} ‚Ç∫` : 'Se√ßim yapƒ±n'}
          </Text>
        </View>
        <Button
          mode="contained"
          onPress={handleRentConfirm}
          style={styles.confirmButton}
          contentStyle={styles.confirmButtonContent}
          disabled={!isTermsAccepted || !rentalPeriod || !processingOption}
        >
          √ñdeme Sayfasƒ±na Git
        </Button>
      </View>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#F5F7F3',
  },
  scrollView: {
    flex: 1,
  },
  header: {
    padding: 24,
    backgroundColor: '#2D6A4F',
    borderBottomLeftRadius: 20,
    borderBottomRightRadius: 20,
    elevation: 4,
  },
  title: {
    fontSize: 28,
    fontWeight: 'bold',
    color: '#fff',
    marginBottom: 8,
  },
  subtitle: {
    fontSize: 18,
    color: '#fff',
    marginBottom: 6,
    fontWeight: '500',
  },
  location: {
    fontSize: 16,
    color: '#fff',
    opacity: 0.9,
    fontWeight: '400',
  },
  section: {
    margin: 16,
    marginBottom: 12,
    padding: 20,
    borderRadius: 16,
    backgroundColor: '#fff',
    elevation: 2,
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 2 },
    shadowOpacity: 0.1,
    shadowRadius: 4,
  },
  sectionTitle: {
    fontSize: 20,
    fontWeight: 'bold',
    marginBottom: 20,
    color: '#1B4332',
  },
  treeInfo: {
    flexDirection: 'row',
    alignItems: 'center',
    backgroundColor: '#F8F9FA',
    padding: 16,
    borderRadius: 12,
    marginBottom: 16,
  },
  treeDetails: {
    marginLeft: 16,
    flex: 1,
  },
  treeName: {
    fontSize: 22,
    fontWeight: 'bold',
    color: '#1B4332',
    marginBottom: 4,
  },
  treeLocation: {
    fontSize: 16,
    color: '#2D6A4F',
    fontWeight: '500',
  },
  divider: {
    marginVertical: 20,
    height: 1,
    backgroundColor: '#E8F5E9',
  },
  harvestInfo: {
    flexDirection: 'row',
    justifyContent: 'space-around',
    backgroundColor: '#F8F9FA',
    padding: 16,
    borderRadius: 12,
  },
  harvestDetail: {
    alignItems: 'center',
    flex: 1,
  },
  harvestLabel: {
    fontSize: 14,
    color: '#666',
    marginBottom: 6,
    fontWeight: '500',
  },
  harvestValue: {
    fontSize: 18,
    fontWeight: 'bold',
    color: '#1B4332',
  },
  periodOption: {
    flexDirection: 'row',
    alignItems: 'center',
    justifyContent: 'space-between',
    paddingVertical: 12,
    paddingHorizontal: 16,
    backgroundColor: '#F8F9FA',
    borderRadius: 12,
    marginBottom: 8,
  },
  periodInfo: {
    flexDirection: 'row',
    alignItems: 'center',
  },
  periodLabel: {
    fontSize: 16,
    marginLeft: 12,
    fontWeight: '500',
    color: '#1B4332',
  },
  periodPrice: {
    fontSize: 18,
    fontWeight: 'bold',
    color: '#2D6A4F',
  },
  radioOption: {
    marginBottom: 12,
    backgroundColor: '#F8F9FA',
    padding: 16,
    borderRadius: 12,
    color:"black"
  },
  optionDescription: {
    fontSize: 14,
    color: 'black',
    marginLeft: 52,
    marginTop: 4,
    lineHeight: 20,
  },
  optionPrice: {
    fontSize: 16,
    color: '#2D6A4F',
    fontWeight: 'bold',
    marginLeft: 52,
    marginTop: 4,
  },
  paymentOption: {
    flexDirection: 'row',
    alignItems: 'center',
    paddingVertical: 12,
    paddingHorizontal: 16,
    backgroundColor: '#F8F9FA',
    borderRadius: 12,
    marginBottom: 8,
  },
  paymentIcon: {
    marginRight: 16,
  },
  paymentInfo: {
    flex: 1,
  },
  paymentName: {
    fontSize: 16,
    fontWeight: '500',
    color: '#1B4332',
  },
  paymentDetail: {
    fontSize: 14,
    color: '#666',
    marginTop: 2,
  },
  addPaymentButton: {
    marginTop: 16,
    borderColor: '#2D6A4F',
    borderWidth: 2,
  },
  contractContainer: {
    marginBottom: 16,
  },
  contractShortText: {
    fontSize: 15,
    color: '#333',
    lineHeight: 24,
    backgroundColor: '#F8F9FA',
    padding: 16,
    borderRadius: 12,
    marginBottom: 12,
  },
  contractButtonContainer: {
    marginBottom: 16,
    alignItems: 'center',
    width: '100%',
  },
  contractButtonLabel: {
    fontSize: 16,
    fontWeight: 'bold',
    color: '#2D6A4F',
    textAlign: 'center',
  },
  termsContainer: {
    flexDirection: 'row',
    alignItems: 'center',
    backgroundColor: '#F8F9FA',
    padding: 16,
    borderRadius: 12,
  },
  termsText: {
    flex: 1,
    fontSize: 15,
    marginLeft: 12,
    color: '#1B4332',
    fontWeight: '500',
  },
  priceBreakdown: {
    marginBottom: 20,
  },
  priceRow: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    alignItems: 'center',
    paddingVertical: 8,
  },
  priceLabel: {
    fontSize: 16,
    color: '#1B4332',
    fontWeight: '500',
  },
  priceValue: {
    fontSize: 16,
    color: '#2D6A4F',
    fontWeight: 'bold',
  },
  totalRow: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    alignItems: 'center',
    paddingVertical: 8,
  },
  totalLabel: {
    fontSize: 18,
    color: '#1B4332',
    fontWeight: '500',
  },
  totalPrice: {
    fontSize: 28,
    fontWeight: 'bold',
    color: '#2D6A4F',
  },
  confirmButton: {
    backgroundColor: '#2D6A4F',
    borderRadius: 12,
    color:"white",
    elevation: 4,
  },
  confirmButtonContent: {
    height: 56,
  },
  organicContainer: {
    backgroundColor: '#F8F9FA',
    padding: 16,
    borderRadius: 12,
  },
  organicLeftSection: {
    flexDirection: 'row',
    alignItems: 'flex-start',
  },
  organicTextSection: {
    marginLeft: 12,
    flex: 1,
  },
  organicTitle: {
    fontSize: 16,
    fontWeight: '500',
    color: '#1B4332',
  },
  organicDescription: {
    fontSize: 14,
    color: '#666',
  },
  bottomSpacer: {
    height: 100,
  },
  fixedBottom: {
    padding: 24,
    backgroundColor: '#fff',
    borderTopWidth: 1,
    borderTopColor: '#E8F5E9',
  },
  totalContainer: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    alignItems: 'center',
    marginBottom: 20,
  },
  modalOverlay: {
    flex: 1,
    backgroundColor: 'rgba(0, 0, 0, 0.5)',
    justifyContent: 'center',
    alignItems: 'center',
  },
  modalContainer: {
    backgroundColor: '#fff',
    padding: 24,
    borderRadius: 20,
    width: '92%',
    maxHeight: '90%',
  },
  modalHeader: {
    flexDirection: 'row',
    alignItems: 'center',
    justifyContent: 'space-between',
    marginBottom: 20,
  },
  modalTitle: {
    fontSize: 20,
    fontWeight: 'bold',
    color: '#1B4332',
  },
  modalContent: {
    flexGrow: 1,
    paddingBottom: 16,
  },
  modalContractText: {
    fontSize: 15,
    color: '#333',
    lineHeight: 24,
  },
  modalFooter: {
    flexDirection: 'row',
    justifyContent: 'flex-end',
    marginTop: 20,
  },
  modalAcceptButton: {
    backgroundColor: '#2D6A4F',
    borderRadius: 12,
    padding: 16,
  },
  modalAcceptButtonContent: {
    height: 56,
  },
  modalAcceptButtonLabel: {
    color: '#fff',
    fontWeight: 'bold',
    fontSize: 16,
  },
  contractHeader: {
    flexDirection: 'row',
    alignItems: 'center',
    marginBottom: 20,
  },
  contractCard: {
    flexDirection: 'row',
    alignItems: 'center',
    padding: 16,
    borderRadius: 12,
    backgroundColor: '#F8F9FA',
  },
  contractIconContainer: {
    marginRight: 16,
  },
  contractContent: {
    flex: 1,
  },
  contractTitle: {
    fontSize: 18,
    fontWeight: 'bold',
    color: '#1B4332',
    marginBottom: 4,
  },
  contractSubtitle: {
    fontSize: 14,
    color: '#666',
  },
  contractViewButton: {
    width: '80%',
    alignSelf: 'center',
    borderRadius: 12,
    borderWidth: 1.5,
    borderColor: '#2D6A4F',
    backgroundColor: '#fff',
  },
  termsTextContainer: {
    flex: 1,
    marginLeft: 8,
  },
  termsNote: {
    fontSize: 14,
    color: '#666',
    marginLeft: 4,
  },
  modalCloseButton: {
    marginLeft: 16,
  },
  modalDivider: {
    height: 1,
    backgroundColor: '#E8F5E9',
  },
  modalContractSection: {
    marginBottom: 20,
  },
  modalSectionTitle: {
    fontSize: 18,
    fontWeight: 'bold',
    color: '#1B4332',
    marginBottom: 8,
  },
  modalSummaryCard: {
    backgroundColor: '#F8F9FA',
    padding: 16,
    borderRadius: 12,
    marginBottom: 20,
  },
  modalSummaryHeader: {
    flexDirection: 'row',
    alignItems: 'center',
    marginBottom: 12,
  },
  modalSummaryTitle: {
    fontSize: 18,
    fontWeight: 'bold',
    color: '#1B4332',
    marginLeft: 8,
  },
  modalSummaryContent: {
    gap: 12,
  },
  modalSummaryItem: {
    flexDirection: 'row',
    alignItems: 'center',
    paddingVertical: 4,
  },
  modalSummaryText: {
    fontSize: 14,
    color: '#666',
    marginLeft: 8,
    flex: 1,
  },
  modalBenefitsSection: {
    marginBottom: 20,
  },
  modalBenefitsList: {
    gap: 12,
  },
  modalBenefitItem: {
    flexDirection: 'row',
    alignItems: 'center',
    paddingVertical: 4,
  },
  modalBenefitText: {
    fontSize: 14,
    color: '#666',
    marginLeft: 8,
    flex: 1,
  },
  modalContactSection: {
    marginBottom: 20,
  },
  modalContactInfo: {
    gap: 12,
  },
  modalContactItem: {
    flexDirection: 'row',
    alignItems: 'center',
    paddingVertical: 4,
  },
  modalContactText: {
    fontSize: 14,
    color: '#666',
    marginLeft: 8,
    flex: 1,
  },
  modalSecuritySection: {
    marginBottom: 20,
  },
  modalSecurityList: {
    gap: 12,
  },
  modalSecurityItem: {
    flexDirection: 'row',
    alignItems: 'center',
    paddingVertical: 4,
  },
  modalSecurityText: {
    fontSize: 14,
    color: '#666',
    marginLeft: 8,
    flex: 1,
  },
  modalBoldText: {
    fontSize: 16,
    fontWeight: 'bold',
    color: '#1B4332',
  },
  headerRow: {
    flexDirection: 'row',
    alignItems: 'center',
    paddingTop: 8,
    paddingBottom: 8,
    paddingHorizontal: 8,
    backgroundColor: '#fff',
    borderBottomWidth: 1,
    borderBottomColor: '#E0E0E0',
    zIndex: 10,
  },
  headerTitle: {
    fontSize: 20,
    fontWeight: 'bold',
    color: '#1B4332',
    marginLeft: 8,
  },
}); 